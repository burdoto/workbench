<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{/layout/head}"></head>
<script th:src="@{/static/timetable.js}" type="text/javascript"></script>
<body onload="init()">
<div class="ui-menubar" th:insert="~{/layout/menubar}"></div>
<div class="ui-panel-1">
    <h2>Filter</h2>
    <div class="ui-panel-2" id="panel-filter-week">
        <h3>Nach Kalenderwoche</h3>
        <form onsubmit="refreshTableView()">
            <label for="filter-year">Jahr:</label>
            <input class="filter" id="filter-year" max="2100" min="2000" name="year" type="number">
            <label for="filter-week">Woche:</label>
            <input class="filter" id="filter-week" max="53" min="1" name="week" required type="number">
            <input type="submit" value="Anwenden">
        </form>
    </div>
    <div class="ui-panel-2" id="panel-filter-customer">
        <h3>Nach Kunde</h3>
        <form method="get" th:action="@{/timetable}">
            <label for="filter-customer">Kunde:</label>
            <input class="filter" id="filter-customer" name="customer" required>
            <input type="submit" value="Anwenden">
        </form>
    </div>
</div>
<h2 th:text="${displayInfoText}"></h2>
<table class="ui-panel-1">
    <thead>
    <tr>
        <th>Tag</th>
        <th>Kunde</th>
        <th>Begonnen</th>
        <th>Beendet</th>
        <th>Pausen</th>
        <th>Bemerkungen</th>
        <th>Zuweisungen</th>
    </tr>
    </thead>
    <tbody id="table-body">
    <tr th:each="entry: ${entries}">
        <td th:text="${entry.getDayText()}"></td>
        <td th:text="${entry.getCustomer()}"></td>
        <td th:text="${entry.getStartTimeText()}"></td>
        <td th:text="${entry.getEndTimeText()}"></td>
        <td th:text="${entry.getBreaksSummaryText()}"></td>
        <td th:text="${entry.getNotes()}"></td>
        <td th:text="${entry.getAssignmentsSummaryText()}"></td>
    </tr>
    </tbody>
</table>
<div class="ui-panel-1">
    <h2>Eintrag erstellen</h2>
    <div class="ui-panel-2" id="panel-create-entry">
        <form onsubmit="createEntry()">
            <label for="create-customerName">Kunde</label>
            <input id="create-customerName" name="customerName" type="text">

            <label for="create-startTime">Beginn</label>
            <input id="create-startTime" name="startTime" type="time">

            <label for="create-endTime">Ende</label>
            <input id="create-endTime" name="endTime" type="time">

            <label for="create-notes">Notizen</label>
            <input id="create-notes" name="notes" type="text">

            <label for="create-interruptions">Unterbrechungen</label>
            <input id="create-interruptions" name="interruptions" type="text">

            <label for="create-assignments">Zuweisungen</label>
            <input id="create-assignments" name="assignments" type="text">

            <input type="submit">
        </form>
    </div>
    <div class="ui-footer" th:insert="~{/layout/footer}"></div>
</body>
</html>